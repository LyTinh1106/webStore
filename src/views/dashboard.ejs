<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- style -->
    <link rel="stylesheet" href="css/dashboardStyle.css">


</head>

<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">Tech Admin</div>
        <ul>
            <li><a href="#dashboard"><i class="fas fa-tachometer-alt me-2"></i> Dashboard</a></li>
            <li><a href="#orders"><i class="fas fa-shopping-cart me-2"></i> Đơn hàng</a></li>
            <li><a href="#products"><i class="fas fa-mobile-alt me-2"></i> Sản phẩm</a></li>
            <li><a href="#categories"><i class="fas fa-list me-2"></i> Loại sản phẩm</a></li>
            <li><a href="#accounts"><i class="fas fa-users me-2"></i> Nhãn hàng</a></li>
            <li><a href="#accounts"><i class="fas fa-users me-2"></i> Giao hàng</a></li>
            <li><a href="#accounts"><i class="fas fa-users me-2"></i> Nhà cung cấp</a></li>
            <li><a href="#accounts"><i class="fas fa-users me-2"></i> Voucher</a></li>
            <li><a href="#accounts"><i class="fas fa-users me-2"></i> Tài khoản</a></li>
            <li><a href="/logout"><i class="fas fa-sign-out-alt me-2"></i> Đăng xuất</a></li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header with User Info -->
        <div class="header-container">
            <h2>Dashboard</h2>
            <div class="user-info">
                <div class="user-avatar">A</div>
                <div class="user-details">
                    <span class="user-name">Admin</span>
                    <span class="user-role">Quản trị viên</span>
                </div>
                <div class="dropdown ms-2">
                    <button class="btn btn-sm dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        <i class="fas fa-angle-down"></i>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                        <li><a class="dropdown-item" href="#"><i class="fas fa-user me-2"></i> Hồ sơ</a></li>
                        <li><a class="dropdown-item" href="#"><i class="fas fa-cog me-2"></i> Cài đặt</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item" href="/logout"><i class="fas fa-sign-out-alt me-2"></i> Đăng xuất</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Stats Panels -->
        <div class="row" id="dashboard">
            <div class="col-md-3">
                <div class="dashboard-card revenue">
                    <div><i class="fas fa-dollar-sign"></i> Tổng doanh thu</div>
                    <div class="value">1,250,000,000 VNĐ</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="dashboard-card orders">
                    <div><i class="fas fa-shopping-cart"></i> Đơn đặt hàng</div>
                    <div class="value">256</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="dashboard-card customers">
                    <div><i class="fas fa-users"></i> Khách hàng</div>
                    <div class="value">125</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="dashboard-card products">
                    <div><i class="fas fa-mobile-alt"></i> Sản phẩm hiện có</div>
                    <div class="value">82</div>
                </div>
            </div>
        </div>

        <!-- Orders Section -->
        <div class="content-section" id="orders">
            <h3 class="section-title">Quản lý đơn hàng</h3>
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Mã ĐH</th>
                            <th>Khách hàng</th>
                            <th>Ngày đặt</th>
                            <th>Phương thức thanh toán</th>
                            <th>Tổng tiền</th>
                            <th>Trạng thái</th>
                            <th>Thao tác</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% if (orders.length> 0) { %>
                            <% orders.forEach(order=> { %>
                                <tr>
                                    <td>#<%= order.id %>
                                    </td>
                                    <td>
                                        <%= order.email || 'Không rõ' %>
                                    </td>
                                    <td>
                                        <%= new Date(order.created_at).toLocaleDateString('vi-VN') %>
                                    </td>
                                    <td>
                                        <%= order.payment_method %>
                                    </td>
                                    <td>
                                        <%= order.total_payment %> VNĐ
                                    </td>
                                    <td>
                                        <% if (order.order_status==='Đã giao' ) { %>
                                            <span class="badge bg-success">
                                                <%= order.order_status %>
                                            </span>
                                            <% } else if (order.order_status==='Đang chờ' ) { %>
                                                <span class="badge bg-warning">
                                                    <%= order.order_status %>
                                                </span>
                                                <% } else if (order.order_status==='Đã hủy' ) { %>
                                                    <span class="badge bg-danger">
                                                        <%= order.order_status %>
                                                    </span>
                                                    <% } else { %>
                                                        <span class="badge bg-secondary">
                                                            <%= order.order_status %>
                                                        </span>
                                                        <% } %>
                                    </td>
                                    <td>
                                        <a href="/orders/<%= order.id %>" class="btn btn-sm btn-primary"><i
                                                class="fas fa-eye"></i></a>
                                        <a href="/orders/<%= order.id %>/edit" class="btn btn-sm btn-info"><i
                                                class="fas fa-edit"></i></a>
                                        <form action="/orders/<%= order.id %>/delete" method="POST" class="d-inline">
                                            <button type="submit" class="btn btn-sm btn-danger"
                                                onclick="return confirm('Bạn có chắc muốn xóa đơn hàng này?')"><i
                                                    class="fas fa-trash"></i></button>
                                        </form>
                                    </td>
                                </tr>
                                <% }) %>
                                    <% } else { %>
                                        <tr>
                                            <td colspan="7" class="text-center">Không có đơn hàng nào.</td>
                                        </tr>
                                        <% } %>
                    </tbody>

                </table>
            </div>
            <!-- <nav aria-label="Page navigation">
                <ul class="pagination justify-content-end">
                    <li class="page-item disabled"><a class="page-link" href="#">Trước</a></li>
                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item"><a class="page-link" href="#">Sau</a></li>
                </ul>
            </nav> -->
        </div>

        <!-- Products Section -->
        <div class="content-section" id="products">
            <h3 class="section-title">Quản lý sản phẩm</h3>
            <div class="mb-3">
                <button class="btn btn-success"><i class="fas fa-plus"></i> Thêm sản phẩm mới</button>
            </div>
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Mã SP</th>
                            <th>Tên sản phẩm</th>
                            <th>Loại</th>
                            <th>Giá nhập</th>
                            <th>Giá bán</th>
                            <th>Xuất xứ</th>
                            <th>Bảo hành</th>
                            <th>Thao tác</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% if (products.length> 0) { %>
                            <% products.forEach((product)=> { %>
                                <tr>
                                    <td>
                                        <%= product.fancy_id %>
                                    </td>
                                    <td>
                                        <%= product.name %>
                                    </td>
                                    <td>
                                        <%= product.category_name|| 'Không rõ' %>
                                    </td>
                                    <td>
                                        <%= Number(product.import_price).toLocaleString('vi-VN') %> VNĐ
                                    </td>
                                    <td>
                                        <%= Number(product.retail_price).toLocaleString('vi-VN') %> VNĐ
                                    </td>
                                    <td>
                                        <%= product.origin %>
                                    </td>
                                    <td>
                                        <%= product.warranty %>
                                    </td>
                                    <td>
                                        <a href="/products/<%= product.id %>" class="btn btn-sm btn-primary"><i
                                                class="fas fa-eye"></i></a>
                                        <a href="/products/<%= product.id %>/edit" class="btn btn-sm btn-info"><i
                                                class="fas fa-edit"></i></a>
                                        <form action="/products/<%= product.id %>/delete" method="POST"
                                            class="d-inline">
                                            <button type="submit" class="btn btn-sm btn-danger"
                                                onclick="return confirm('Bạn có chắc muốn xóa sản phẩm này?')">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </form>
                                    </td>
                                </tr>
                                <% }) %>
                                    <% } else { %>
                                        <tr>
                                            <td colspan="8" class="text-center">Không có sản phẩm nào.</td>
                                        </tr>
                                        <% } %>
                    </tbody>


                </table>
            </div>
            <!-- <nav aria-label="Page navigation">
                <ul class="pagination justify-content-end">
                    <li class="page-item disabled"><a class="page-link" href="#">Trước</a></li>
                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item"><a class="page-link" href="#">Sau</a></li>
                </ul>
            </nav> -->
        </div>

        <!-- Categories Section -->
        <div class="content-section" id="categories">
            <h3 class="section-title">Quản lý loại sản phẩm</h3>
            <div class="mb-3">
                <!-- Nút mở popup -->
                <a href="#" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addCategoryModal">
                    <i class="fas fa-plus"></i> Thêm danh mục mới
                </a>

                <!-- Modal Form -->
                <div class="modal fade" id="addCategoryModal" tabindex="-1" aria-labelledby="addCategoryModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered"> 
                        <div class="modal-content">

                            <div class="modal-header">
                                <h5 class="modal-title" id="addCategoryModalLabel">Thêm loại sản phẩm</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
                            </div>

                            <div class="modal-body">
                                <form id="addCategoryForm">
                                    <div class="mb-3">
                                        <label for="categoryName" class="form-label">Tên loại sản phẩm</label>
                                        <input type="text" class="form-control" id="categoryName" name="cat_Name" placeholder="Nhập tên loại sản phẩm" required>
                                    </div>
                                </form>
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                                <button type="submit" form="addCategoryForm" class="btn btn-primary">Thêm</button>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Mã loại</th>
                            <th>Tên loại</th>
                            <th>Thao tác</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% categories.forEach((category, index)=> { %>
                            <tr>
                                <td>
                                    <%= 'L' + String(category.id).padStart(3, '0' ) %>
                                    <!-- <%= category.id%> -->

                                </td>
                                <td>
                                    <%= category.name %>
                                </td>

                                <td>
                                    <a href="/categories/<%= category.id %>/edit" class="btn btn-sm btn-info">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <form action="/categories/<%= category.id %>/delete" method="POST"
                                        style="display:inline;">
                                        <button class="btn btn-sm btn-danger"
                                            onclick="return confirm('Bạn có chắc chắn muốn xóa?')">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </form>
                                </td>
                            </tr>
                            <% }) %>
                    </tbody>

                </table>
            </div>
        </div>

        <!-- Brands Section -->
        <div class="content-section" id="brands">
            <h3 class="section-title">Quản lý nhãn hàng</h3>
            <div class="mb-3">
                <!-- Nút mở popup -->
                <a href="#" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addBrandModal">
                    <i class="fas fa-plus"></i> Thêm nhãn hàng mới
                </a>
                <!-- Modal Form -->
                <div class="modal fade" id="addBrandModal" tabindex="-1" aria-labelledby="addBrandModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered"> 
                        <div class="modal-content">

                            <div class="modal-header">
                                <h5 class="modal-title" id="addBrandModalLabel">Thêm nhãn hàng mới</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Đóng"></button>
                            </div>

                            <div class="modal-body">
                                <form id="addBrandForm">
                                    <div class="mb-3">
                                        <label for="brandName" class="form-label">Tên nhãn hàng</label>
                                        <input type="text" class="form-control" id="brandName" name="brand_Name"
                                            placeholder="Nhập tên nhãn hàng" required>
                                    </div>
                                </form>
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                                <button type="submit" form="addBrandForm" class="btn btn-primary">Thêm</button>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Mã nhãn hàng</th>
                            <th>Tên nhãn hàng</th>
                            <th>Thao tác</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% if (brands && brands.length> 0) { %>
                            <% brands.forEach((brand)=> { %>
                                <tr>
                                    <td>
                                        <%= brand.brand_id %>
                                    </td>
                                    <td>
                                        <%= brand.brand_name %>
                                    </td>
                                    <td>
                                        <a href="/brands/<%= brand.id %>" class="btn btn-sm btn-info">
                                            <i class="fas fa-edit"></i>
                                        </a>
                                        <form action="/brands/<%= brand.id %>/delete" method="POST"
                                            style="display:inline-block;"
                                            onsubmit="return confirm('Bạn có chắc muốn xóa?');">
                                            <button type="submit" class="btn btn-sm btn-danger">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </form>
                                    </td>
                                </tr>
                                <% }) %>
                                    <% } else { %>
                                        <tr>
                                            <td colspan="3" class="text-center">Không có nhãn hàng nào.</td>
                                        </tr>
                                        <% } %>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Shipping Section -->
        <div class="content-section" id="shipping">
            <h3 class="section-title">Quản lý giao hàng</h3>
            <div class="mb-3">
                <button class="btn btn-success"><i class="fas fa-plus"></i> Thêm đơn giao hàng mới</button>
            </div>
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Mã giao hàng</th>
                            <th>Ngày giao</th>
                            <th>Phương thức giao</th>
                            <th>Trạng thái</th>
                            <th>Người nhận</th>
                            <th>Mã đơn hàng</th>
                            <th>Địa chỉ</th>
                            <th>Thao tác</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% if (shippings && shippings.length> 0) { %>
                            <% shippings.forEach(function(shipping) { %>
                                <tr>
                                    <td>
                                        <%= shipping.id %>
                                    </td>
                                    <td>
                                        <%= shipping.shipping_date %>
                                    </td>
                                    <td>
                                        <%= shipping.delivery_method %>
                                    </td>
                                    <td>
                                        <%= shipping.shipping_status %>
                                    </td>
                                    <td>
                                        <%= shipping.customer_name || 'N/A' %>
                                    </td> <!-- nếu cần hiển thị tên thay vì id -->
                                    <td>
                                        <%= shipping.id_order %>
                                    </td>
                                    <td>
                                        <%= shipping.shipping_address %>
                                    </td>
                                    <td>
                                        <a href="/shippings/<%= shipping.id_shipping %>" class="btn btn-sm btn-info"><i
                                                class="fas fa-edit"></i></a>
                                        <form action="/shippings/<%= shipping.id_shipping %>/delete" method="POST"
                                            style="display:inline;">
                                            <button class="btn btn-sm btn-danger"
                                                onclick="return confirm('Bạn có chắc muốn xoá?')">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </form>
                                    </td>
                                </tr>
                                <% }) %>
                                    <% } else { %>
                                        <tr>
                                            <td colspan="8" class="text-center">Không có dữ liệu vận chuyển.</td>
                                        </tr>
                                        <% } %>
                    </tbody>

                </table>
            </div>
        </div>

        <!-- Supplier Section -->
        <div class="content-section" id="suppliers">
            <h3 class="section-title">Quản lý nhà cung cấp</h3>
            <div class="mb-3">
                <button class="btn btn-success"><i class="fas fa-plus"></i> Thêm nhà cung cấp mới</button>
            </div>
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Mã nhà cung cấp</th>
                            <th>Tên nhà cung cấp</th>
                            <th>Điện thoại</th>
                            <th>Email</th>
                            <th>Địa chỉ</th>
                            <th>Thao tác</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% suppliers.forEach((supplier)=> { %>
                            <tr>
                                <td>
                                    <%= supplier.id %>
                                </td>
                                <td>
                                    <%= supplier.name %>
                                </td>
                                <td>
                                    <%= supplier.phonenumber %>
                                </td>
                                <td>
                                    <%= supplier.email %>
                                </td>
                                <td>
                                    <%= supplier.address %>
                                </td>
                                <td>
                                    <a href="/suppliers/<%= supplier.id %>/edit" class="btn btn-sm btn-info">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <form action="/suppliers/<%= supplier.id %>/delete" method="POST"
                                        style="display:inline;">
                                        <button type="submit" class="btn btn-sm btn-danger"
                                            onclick="return confirm('Bạn có chắc muốn xóa nhà cung cấp này?')">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </form>
                                </td>
                            </tr>
                            <% }); %>
                    </tbody>

                </table>
            </div>
        </div>

        <!-- Voucher Section -->
        <div class="content-section" id="vouchers">
            <h3 class="section-title">Quản lý voucher</h3>
            <div class="mb-3">
                <!-- Nút mở popup -->
                <a href="#" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addVoucherModal">
                    <i class="fas fa-plus"></i> Thêm voucher mới
                </a>

                <!-- Modal Form -->
                <div class="modal fade" id="addVoucherModal" tabindex="-1" aria-labelledby="addVoucherModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">

                            <div class="modal-header">
                                <h5 class="modal-title" id="addVoucherModalLabel">Thêm Voucher</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Đóng"></button>
                            </div>

                            <div class="modal-body">
                                <form id="addVoucherForm">
                                    <div class="mb-3">
                                        <label for="vouCode" class="form-label">Mã voucher</label>
                                        <input type="text" class="form-control" id="vouCode" name="vou_code"
                                            placeholder="Nhập mã voucher" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="vouValue" class="form-label">Giá trị (%)</label>
                                        <input type="number" class="form-control" id="vouValue" name="value"
                                            placeholder="Nhập giá trị voucher" min="1" max="100" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="startDate" class="form-label">Ngày bắt đầu</label>
                                        <input type="text" class="form-control datetime-picker" id="startDate"
                                            name="stardate" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="endDate" class="form-label">Ngày kết thúc</label>
                                        <input type="text" class="form-control datetime-picker" id="endDate"
                                            name="enddate" required>
                                    </div>
                                </form>
                                <div id="voucherMessage" class="mt-2 text-danger" style="display:none;"></div>
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                                <button type="submit" form="addVoucherForm" class="btn btn-primary">Thêm</button>
                            </div>

                        </div>
                    </div>
                </div>
                <!-- Flatpickr CSS -->
                <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
                <!-- Flatpickr JS -->
                <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
                <script>
                    flatpickr(".datetime-picker", {
                        enableTime: true,
                        dateFormat: "d-m-Y H:i",
                        time_24hr: true,
                        position: "above",
                        defaultHour: 0,
                        defaultMinute: 0
                    });

                    document.getElementById("addVoucherForm").addEventListener("submit", function (e) {
                        e.preventDefault();

                        const form = e.target;
                        const formData = new FormData(form);
                        const messageBox = document.getElementById("voucherMessage");
                        messageBox.style.display = "none";

                        const startDate = flatpickr.parseDate(formData.get("stardate"), "d-m-Y H:i");
                        const endDate = flatpickr.parseDate(formData.get("enddate"), "d-m-Y H:i");

                        if (endDate <= startDate) {
                            messageBox.textContent = "Ngày kết thúc phải sau ngày bắt đầu!";
                            messageBox.style.display = "block";
                            return;
                        }

                        // Gửi AJAX (dùng fetch API hoặc jQuery tùy bạn)
                        fetch('/api/voucher/add', {
                            method: 'POST',
                            body: formData
                        })
                            .then(response => {
                                if (!response.ok) throw new Error("Có lỗi xảy ra!");
                                return response.json();
                            })
                            .then(data => {
                                if (data.success) {
                                    alert("Thêm voucher thành công!");
                                    form.reset();
                                    flatpickr("#startDate").clear();
                                    flatpickr("#endDate").clear();
                                    const modal = bootstrap.Modal.getInstance(document.getElementById('addVoucherModal'));
                                    modal.hide();
                                    // Gọi lại bảng / danh sách nếu cần
                                } else {
                                    messageBox.textContent = data.message || "Thêm không thành công!";
                                    messageBox.style.display = "block";
                                }
                            })
                            .catch(error => {
                                messageBox.textContent = error.message || "Lỗi mạng!";
                                messageBox.style.display = "block";
                            });
                    });
                </script>


                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Mã voucher</th>
                                <th>Trị giá</th>
                                <th>Ngày bắt đầu</th>
                                <th>ngày kết thúc</th>
                                <th>Thao tác</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% if (vouchers && vouchers.length> 0) { %>
                                <% vouchers.forEach((voucher, index)=> { %>
                                    <tr>
                                        <td>
                                            <%= voucher.id %>
                                        </td>
                                        <td>
                                            <%= voucher.voucher_code %>
                                        </td>
                                        <td>
                                            <%= voucher.voucher_value %>
                                        </td>
                                        <td>
                                            <%= voucher.date_start %>
                                        </td>
                                        <td>
                                            <%= voucher.date_end %>
                                        </td>
                                        <td>
                                            <form action="/vouchers/<%= voucher.id %>/update" method="get"
                                                style="display:inline;">
                                                <button class="btn btn-sm btn-info" title="Chỉnh sửa"><i
                                                        class="fas fa-edit"></i></button>
                                            </form>
                                            <form action="/vouchers/<%= voucher.id %>/delete" method="post"
                                                style="display:inline;"
                                                onsubmit="return confirm('Bạn có chắc muốn xóa voucher này?');">
                                                <button class="btn btn-sm btn-danger" title="Xóa"><i
                                                        class="fas fa-trash"></i></button>
                                            </form>
                                        </td>
                                    </tr>
                                    <% }) %>
                                        <% } else { %>
                                            <tr>
                                                <td colspan="6" class="text-center">Không có voucher nào.</td>
                                            </tr>
                                            <% } %>
                        </tbody>

                    </table>
                </div>
            </div>

            <!-- Accounts Section -->
            <div class="content-section" id="accounts">
                <h3 class="section-title">Quản lý tài khoản</h3>
                <div class="mb-3">
                    <button class="btn btn-success"><i class="fas fa-plus"></i> Thêm tài khoản mới</button>
                </div>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Email</th>
                                <th>Mật khẩu</th>
                                <th>Quyền</th>
                                <th>Thao tác</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% accounts.forEach((account, index)=> { %>
                                <tr>
                                    <td>
                                        <%= account.id %>
                                    </td>
                                    <td>
                                        <%= account.email %>
                                    </td>
                                    <td>
                                        <div class="input-group">
                                            <input type="password" class="form-control form-control-sm"
                                                value="<%= account.password %>" id="password<%= index %>" readonly>
                                            <button class="btn btn-sm btn-outline-secondary toggle-password"
                                                type="button" data-target="password<%= index %>">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                    </td>
                                    <td>
                                        <%= account.role %>
                                    </td>
                                    <td>
                                        <a href="/accounts/<%= account.id %>" class="btn btn-sm btn-primary"
                                            title="Xem chi tiết">
                                            <i class="fas fa-eye"></i>
                                        </a>
                                        <a href="/accounts/<%= account.id %>/edit" class="btn btn-sm btn-info"
                                            title="Chỉnh sửa">
                                            <i class="fas fa-edit"></i>
                                        </a>
                                        <form action="/accounts/<%= account.id %>/delete" method="POST"
                                            class="d-inline">
                                            <button type="submit" class="btn btn-sm btn-danger"
                                                onclick="return confirm('Bạn có chắc muốn xoá tài khoản này?')"
                                                title="Xoá">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </form>
                                    </td>
                                </tr>
                                <% }); %>
                        </tbody>

                    </table>
                </div>
            </div>
        </div>

        <!-- Bootstrap JS và jQuery -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

        <!-- JavaScript -->
        <script src="js/dashboardScript.js"></script>



</body>

</html>